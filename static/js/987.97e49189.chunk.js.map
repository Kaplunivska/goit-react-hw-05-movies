{"version":3,"file":"static/js/987.97e49189.chunk.js","mappings":"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","sources":["components/Button/Button.jsx","components/Button/Button.styled.js","components/Loader/Loader.jsx","components/Gallery/Gallery.props.js","components/Gallery/Gallery.jsx","hooks/useFetchMovieAPI.js","components/MoviesList/MoviesList.props.js","components/MoviesList/MoviesList.jsx","pages/Home/Home.page.jsx"],"sourcesContent":["import { Button } from '@mui/material';\nimport { NavLink } from 'react-router-dom';\nimport ForwardRoundedIcon from '@mui/icons-material/ForwardRounded';\n\nexport const ButtonLink = ({ children, to, ...props }) => (\n  <Button component={NavLink} to={to} {...props}>\n    {children}\n  </Button>\n);\n\nexport const BackButtonLink = ({ children, to }) => (\n  <ButtonLink\n    to={to}\n    startIcon={<ForwardRoundedIcon sx={{ transform: 'rotate(180deg)' }} />}\n  >\n    {children}\n  </ButtonLink>\n);","import styled from '@emotion/styled';\nimport { Button } from '@mui/material';\n\nexport const LoadMoreButton = styled(Button)`\n  display: block;\n  margin: 0 auto;\n  margin-top: ${({ theme }) => theme.spacing(3)};\n`;","import { Box } from '@mui/material';\nimport { RiseLoader } from 'react-spinners';\n\nexport default function Loader(props) {\n  return (\n    <Box {...props}>\n      <RiseLoader\n        size={10}\n        color=\"#DodgerBlue\"\n        cssOverride={{\n          display: 'flex',\n          justifyContent: 'center',\n          margin: '10px 0',\n        }}\n      />\n    </Box>\n  );\n}","import PropTypes from 'prop-types';\n\nexport const GalleryPropTypes = {\n  queryKey: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n  queryFn: PropTypes.func.isRequired,\n  component: PropTypes.elementType.isRequired,\n  enabled: PropTypes.bool,\n};","import { LoadMoreButton } from 'components/Button';\nimport Loader from 'components/Loader';\nimport { useFetchMovieAPI } from 'hooks/useFetchMovieAPI';\nimport uniqBy from 'lodash.uniqby';\nimport { GalleryPropTypes } from './Gallery.props';\n\nexport default function Gallery({\n  queryKey,\n  queryFn,\n  component: Component,\n  enabled = true,\n}) {\n    const {\n        isFetching,\n        isError,\n        error,\n        data: moviesList,\n        hasNextPage,\n        fetchNextPage,      \n    } = useFetchMovieAPI(queryKey, queryFn,querySelectFn, enabled);\n\n    function querySelectFn(data) {\n        return uniqBy(\n      data.pages.reduce((acc, page) => [...acc, ...page.results], []),\n      'id'\n        );\n    }\n\n    if (isError) {\n        return <h2>{error.message}</h2>;\n    }\n   \n    return (\n    <>\n     {moviesList && \n       (moviesList.length === 0 ? (\n        <h2>Movies not found</h2>\n       ) : (\n        <Component list={moviesList} />\n       ))}\n\n       {isFetching && <Loader mt={3} />}\n\n       {!isFetching && hasNextPage && (\n        <LoadMoreButton onClick={fetchNextPage}>Load more</LoadMoreButton>\n       )}\n    </>\n    );\n}\nGallery.propTypes = GalleryPropTypes;","import { useInfiniteQuery } from \"react-query\";\n\nexport const useFetchMovieAPI = (key, fn, select, enabled = true) => {\n    const query = useInfiniteQuery({\n    queryKey: key,\n    queryFn: ({ pageParam }) =>fn(pageParam),\n    enabled: enabled,\n    getNextPageParam: (lastPage, allPages) => {\n        if (allPages.length < lastPage.total_pages) {\n         return allPages.length + 1;\n        }\n    },\n    select,\n    });\n\n    return query;\n};","import PropTypes from 'prop-types';\n\nexport const MoviesListPropTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};","import { Card, CardActionArea, CardMedia, Grid } from '@mui/material';\nimport { Link, useLocation } from 'react-router-dom';\nimport config from 'config';\nimport { MoviesListPropTypes } from './MoviesList.props';\n\nexport default function MoviesList({ list }) {\n    \n  const location = useLocation();\n  const path = location.pathname === '/' ? 'movies/' : '';\n\n  return (\n    <Grid\n      container\n      spacing={{ xs: 2, md: 3 }}\n      columns={{ xs: 4, sm: 8, md: 15 }}\n    >\n      {list.map(({ id, poster_path, title }) => {\n        const imageSrc = poster_path\n          ? `${config.urls.theMovies.image.poster}${poster_path}`\n          : '';\n        return (\n          <Grid item xs={2} sm={2} md={3} key={id}>\n            <Card sx={{ maxWidth: 250, height: '100%' }}>\n              <CardActionArea\n                component={Link}\n                to={`${path}${id}`}\n                state={{ from: location }}\n                sx={{ height: '100%' }}\n              >\n                <CardMedia\n                  component=\"img\"\n                  height=\"250\"\n                  image={imageSrc}\n                  alt={title}\n                  sx={{ height: '100%', objectFit: 'cover' }}\n                />\n              </CardActionArea>\n            </Card>\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n}\n\nMoviesList.propTypes = MoviesListPropTypes;\n","import TheMovieAPI from 'services/theMovieAPI';\nimport MoviesList from 'components/MoviesList';\nimport Gallery from 'components/Gallery';\n\nexport default function Home() {\n    return (\n     <Gallery\n      queryKey=\"thrending-by-day\"\n      queryFn={TheMovieAPI.getThrendingByDay}\n      component={MoviesList}\n      />\n    );\n}"],"names":["ButtonLink","children","to","props","component","NavLink","BackButtonLink","startIcon","sx","transform","LoadMoreButton","styled","Button","theme","spacing","Loader","Box","RiseLoader","size","color","cssOverride","display","justifyContent","margin","PropTypes","isRequired","Gallery","queryKey","queryFn","Component","enabled","key","fn","select","query","useInfiniteQuery","pageParam","getNextPageParam","lastPage","allPages","length","total_pages","useFetchMovieAPI","data","uniqBy","pages","reduce","acc","page","results","isFetching","isError","error","moviesList","hasNextPage","fetchNextPage","message","list","mt","onClick","id","poster_path","title","MoviesList","location","useLocation","path","pathname","Grid","container","xs","md","columns","sm","map","imageSrc","config","item","Card","maxWidth","height","CardActionArea","Link","state","from","CardMedia","image","alt","objectFit","Home","TheMovieAPI"],"sourceRoot":""}